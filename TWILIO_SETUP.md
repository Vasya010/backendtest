# Настройка Twilio для отправки SMS

## Почему Twilio?

✅ Работает по всему миру (включая Кыргызстан)  
✅ Надежный и быстрый сервис  
✅ Бесплатный пробный период ($15.50 кредитов)  
✅ Отличная документация  
✅ Поддержка множества стран  

## Шаг 1: Регистрация

1. Перейдите на https://www.twilio.com/
2. Нажмите "Sign Up" и создайте аккаунт
3. Подтвердите email и телефон

## Шаг 2: Получение учетных данных

После регистрации вы получите:

1. **Account SID** - находится на главной странице Dashboard
   - Формат: `ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`

2. **Auth Token** - находится на главной странице Dashboard
   - Нажмите "Show" чтобы увидеть токен
   - Формат: длинная строка символов

3. **Номер телефона** - нужно купить или использовать пробный
   - Перейдите в "Phone Numbers" → "Buy a number"
   - Выберите страну (можно выбрать любую, Twilio работает везде)
   - Или используйте пробный номер (ограничен, только для верифицированных номеров)

## Шаг 3: Настройка в проекте

1. Создайте файл `backend/.env` (если его нет)

2. Добавьте следующие строки:

```env
SMS_SERVICE=twilio
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=ваш_auth_token_здесь
TWILIO_PHONE_NUMBER=+1234567890
```

**Важно:**
- `TWILIO_PHONE_NUMBER` должен быть в формате E.164 (с +)
- Например: `+12025551234` или `+14155552671`

## Шаг 4: Перезапуск сервера

```bash
cd backend
npm restart
# или
node index.js
```

## Тестирование

1. Откройте приложение
2. Введите номер телефона
3. Нажмите "Отправить код"
4. SMS должно прийти на ваш телефон

## Формат номера телефона

Twilio автоматически обработает номера в любом формате:
- `+996555123456` ✅
- `996555123456` ✅
- `0555123456` ✅ (автоматически преобразуется в +996555123456)

## Пробный период

Twilio дает $15.50 кредитов для тестирования:
- ~1500 SMS в США
- ~500 SMS в другие страны
- Достаточно для тестирования и разработки

## Стоимость (после пробного периода)

- Кыргызстан: ~$0.05-0.10 за SMS
- Очень доступные цены
- Платите только за отправленные SMS

## Поддержка

Если возникли проблемы:
- Документация: https://www.twilio.com/docs
- Поддержка: support@twilio.com
- Консоль: https://console.twilio.com/

## Безопасность

⚠️ **ВАЖНО:** Никогда не коммитьте `.env` файл в Git!
- Добавьте `.env` в `.gitignore`
- Храните учетные данные в секрете

